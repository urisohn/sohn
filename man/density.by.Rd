% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/density.by.R
\name{density.by}
\alias{density.by}
\title{Plot Density Functions by Group}
\usage{
\method{density}{by}(y, x, data = NULL, ...)
}
\arguments{
\item{y}{A numeric vector of values to compute densities for, or a column name
if \code{data} is provided.}

\item{x}{A vector (factor, character, or numeric) used to group the data,
or a column name if \code{data} is provided.}

\item{data}{An optional data frame containing the variables \code{y} and \code{x}.}

\item{...}{Additional arguments passed to plotting functions. Can be scalars
(applied to all groups) or vectors (applied element-wise to each group).
Common parameters include \code{col}, \code{lwd}, \code{lty}, \code{pch},
\code{type}, etc. Arguments can also be passed to \code{density()} such as
\code{bw}, \code{kernel}, etc.}
}
\value{
Invisibly returns a list containing:
\itemize{
  \item \code{densities}: A list of density objects, one for each group
  \item \code{ks_test}: (when 2 groups) The Kolmogorov-Smirnov test result
  \item \code{warnings}: (when warnings occur) A list of captured warnings, including:
    \itemize{
      \item \code{ks_ties}: Warning about ties in KS test (if present)
    }
}
}
\description{
Plots density functions separately for each unique value of a grouping
variable, with support for vectorized plotting parameters.
}
\details{
This function:
\itemize{
  \item Splits \code{y} by unique values of \code{x}
  \item Computes a density estimate for each group
  \item Plots all densities on the same graph
  \item Handles plotting parameters: scalars apply to all groups, vectors
    apply element-wise to groups (in order of unique \code{x} values)
}

The densities are plotted as smooth curves. Parameters like
\code{col}, \code{lwd}, \code{lty}, and \code{pch} can be specified as:
\itemize{
  \item A single value: applied to all groups
  \item A vector: applied to groups in order of unique \code{x} values
}

When there are exactly 2 groups, the function automatically performs:
\itemize{
  \item Kolmogorov-Smirnov test for distribution equality
  \item Displays test results in the bottom right corner
}
}
\examples{
# Basic usage
y <- rnorm(100)
x <- rep(c("A", "B", "C"), c(30, 40, 30))
density.by(y, x)

# With custom colors (scalar - same for all)
density.by(y, x, col = "blue")

# With custom colors (vector - different for each group)
density.by(y, x, col = c("red", "green", "blue"))

# Multiple parameters
density.by(y, x, col = c("red", "green", "blue"), lwd = c(1, 2, 3))

# With line type
density.by(y, x, col = c("red", "green", "blue"), lty = c(1, 2, 3), lwd = 2)

# Using data frame
df <- data.frame(value = rnorm(100), group = rep(c("A", "B"), 50))
density.by(value, group, data = df)
density.by(value, group, data = df, col = c("red", "blue"))

}
